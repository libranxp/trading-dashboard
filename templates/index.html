<!DOCTYPE html>
<html>
<head>
  <title>Trading Dashboard</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <h1>üñ•Ô∏è Trading Dashboard</h1>
  <div class="toggle-buttons">
    <button onclick="showTable('crypto')">Crypto</button>
    <button onclick="showTable('stocks')">Stocks</button>
    <button onclick="showTable('watchlist')">Watchlist</button>
  </div>

  <div id="crypto-table">
    <table>
      <tr><th>Ticker</th><th>Score</th><th>Sentiment</th><th>Volume</th><th>Catalyst</th><th>Time</th><th>Chart</th><th>Watch</th></tr>
      {% for asset in crypto %}
      <tr>
        <td>{{ asset.ticker }}</td>
        <td><div class="score-bar" style="width:{{ asset.score * 10 }}%">{{ asset.score }}</div></td>
        <td>{{ asset.sentiment }}</td>
        <td>{{ asset.volume }}</td>
        <td>{{ asset.catalyst }}</td>
        <td>{{ asset.time }}</td>
        <td><iframe src="https://www.tradingview.com/embed/?symbol={{ asset.ticker }}USD" width="200" height="100"></iframe></td>
        <td><button onclick="addToWatchlist('{{ asset.ticker }}')">‚≠ê</button></td>
      </tr>
      {% endfor %}
    </table>
  </div>

  <div id="stocks-table" style="display:none;">
    <table>
      <tr><th>Ticker</th><th>Score</th><th>Sentiment</th><th>Volume</th><th>Catalyst</th><th>Time</th><th>Chart</th><th>Watch</th></tr>
      {% for asset in stocks %}
      <tr>
        <td>{{ asset.ticker }}</td>
        <td><div class="score-bar" style="width:{{ asset.score * 10 }}%">{{ asset.score }}</div></td>
        <td>{{ asset.sentiment }}</td>
        <td>{{ asset.volume }}</td>
        <td>{{ asset.catalyst }}</td>
        <td>{{ asset.time }}</td>
        <td><iframe src="https://www.tradingview.com/embed/?symbol={{ asset.ticker }}" width="200" height="100"></iframe></td>
        <td><button onclick="addToWatchlist('{{ asset.ticker }}')">‚≠ê</button></td>
      </tr>
      {% endfor %}
    </table>
  </div>

  <div id="watchlist-table" style="display:none;">
    <table>
      <tr><th>Ticker</th><th>Score</th><th>Sentiment</th><th>Volume</th><th>Catalyst</th><th>Time</th><th>Chart</th></tr>
      {% for asset in watchlist %}
      <tr>
        <td>{{ asset.ticker }}</td>
        <td><div class="score-bar" style="width:{{ asset.score * 10 }}%">{{ asset.score }}</div></td>
        <td>{{ asset.sentiment }}</td>
        <td>{{ asset.volume }}</td>
        <td>{{ asset.catalyst }}</td>
        <td>{{ asset.time }}</td>
        <td><iframe src="https://www.tradingview.com/embed/?symbol={{ asset.ticker }}" width="200" height="100"></iframe></td>
      </tr>
      {% endfor %}
    </table>
  </div>

  <script src="/static/script.js"></script>
</body>
</html>
